{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-581354da\"],{\"0ccb\":function(t,e,n){var i=n(\"50c4\"),r=n(\"577e\"),a=n(\"1148\"),o=n(\"1d80\"),c=Math.ceil,s=function(t){return function(e,n,s){var l,u,f=r(o(e)),d=i(n),h=f.length,m=void 0===s?\" \":r(s);return d<=h||\"\"==m?f:(l=d-h,u=a.call(m,c(l/m.length)),u.length>l&&(u=u.slice(0,l)),t?f+u:u+f)}};t.exports={start:s(!1),end:s(!0)}},\"12a9\":function(t,e,n){\"use strict\";n.r(e);var i,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"s-container\"},[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.hasCheck,expression:\"!hasCheck\"}],staticClass:\"check-container\"},[i(\"el-form\",{ref:\"form\",staticClass:\"check-box\",attrs:{model:t.form,rules:t.rules}},[i(\"el-form-item\",[i(\"p\",{staticStyle:{\"font-size\":\"20px\",\"font-weigth\":\"blod\"}},[t._v(t._s(\"\"+t.shareInfo.ownerName)+\"向您分享了文件\")])]),i(\"el-form-item\",[i(\"el-input\",{attrs:{placeholder:\"请输入提取码\",maxlength:\"4\"},model:{value:t.form.code,callback:function(e){t.$set(t.form,\"code\",e)},expression:\"form.code\"}})],1),i(\"el-form-item\",[i(\"el-button\",{staticStyle:{width:\"100%\"},attrs:{type:\"info\"},on:{click:t.checkCode}},[t._v(\"提取文件\")])],1)],1)],1),i(\"el-main\",{staticClass:\"main-box\"},[i(\"div\",{staticClass:\"title\"},[t._v(\" \"+t._s(t.title)+\" \")]),i(\"div\",{staticClass:\"share-time\"},[i(\"i\",{staticClass:\"el-icon-time\"}),i(\"span\",[t._v(t._s(t.shareTime))])]),i(\"div\",{staticClass:\"breadcrumb-box\"},t._l(t.breadcrumb,(function(e,n){return i(\"div\",{key:e.id,staticClass:\"breadcrumb-item\"},[i(\"div\",{staticClass:\"item-box\",on:{click:function(i){return t.handleBreadcrumb(e,n)}}},[0===n?i(\"i\",{staticClass:\"el-icon-s-home\",staticStyle:{\"font-size\":\"20px\"}}):i(\"span\",{staticStyle:{\"font-size\":\"16px\"}},[t._v(t._s(e.realName))])]),n!==t.breadcrumb.length-1?i(\"i\",{staticClass:\"el-icon-arrow-right\",staticStyle:{\"font-size\":\"18px\"}}):t._e()])})),0),i(\"div\",{staticClass:\"file-list\"},[i(\"el-table\",{attrs:{data:t.list}},[i(\"el-table-column\",{attrs:{label:\"名称\",\"min-width\":\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"div\",{staticClass:\"name\",on:{click:function(n){return t.checkChildren(e.row)}}},[i(\"img\",{staticClass:\"icon\",attrs:{src:n(\"c5ae\")(\"./\"+e.row.iconType+\"-icon.svg\")}}),i(\"span\",{staticStyle:{\"font-size\":\"16px\"},style:{cursor:\"2\"===e.row.type?\"pointer\":\"auto\"}},[t._v(t._s(e.row.realName))])])]}}])}),i(\"el-table-column\",{attrs:{label:\"大小\",prop:\"size\"}}),i(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-button\",{attrs:{type:\"text\"},on:{click:function(n){return t.save(e.row)}}},[t._v(\"保存\")]),i(\"el-button\",{attrs:{type:\"text\"},on:{click:function(n){return t.download(e.row)}}},[t._v(\"下载\")])]}}])})],1)],1)]),t.selectShow?i(\"select-folder\",{ref:\"select\",attrs:{isMove:!1},on:{saveConfirm:t.handleSave}}):t._e()],1)},a=[],o=n(\"ade3\"),c=(n(\"a434\"),n(\"9911\"),n(\"159b\"),n(\"a9e3\"),n(\"99af\"),n(\"acd9\")),s=n(\"7431\"),l=n(\"3de1\"),u=n.n(l),f=n(\"3f5e\"),d=n(\"68ac\"),h=n(\"8fc7\"),m=(i={components:{SelectFolder:d[\"a\"]},data:function(){return{breadcrumb:[],link:\"\",hasCheck:!1,needAuth:!0,title:\"\",shareTime:\"\",shareInfo:{ownerName:\"\"},form:{code:\"\"},list:[],rules:{code:[{required:!0,message:\"请输入提取码\",trigger:\"blur\"}]},selectShow:!1,saveInfo:null}}},Object(o[\"a\"])(i,\"components\",{SelectFolder:d[\"a\"]}),Object(o[\"a\"])(i,\"methods\",{handleBreadcrumb:function(t,e){this.breadcrumb.length>1&&(0===e?this.checkCode():this.checkChildren(t,!0),this.breadcrumb.splice(e+1,this.breadcrumb.length))},checkChildren:function(t,e){var n=this;\"2\"===t.type&&Object(c[\"e\"])(this.link,this.form.code,t.id).then((function(i){0===i.code&&(n.dealFile(i.data.folder,i.data.file),e||n.breadcrumb.push(t))}))},initCheck:function(){var t=this;Object(c[\"c\"])(this.link).then((function(e){if(0===e.code)if(t.needAuth=\"1\"===e.data.shareType,t.shareInfo=e.data,t.needAuth){var n=localStorage.getItem(\"#\".concat(t.link));n&&(t.form.code=n,t.checkCode())}else t.hasCheck=!0}))},saveLink:function(){localStorage.setItem(\"#\".concat(this.link),this.form.code)},checkCode:function(){var t=this;this.$refs.form.validate((function(e){e&&Object(c[\"b\"])(t.link,t.form.code).then((function(e){0===e.code&&(t.hasCheck=!0,t.needAuth&&(t.saveLink(),t.dealFile(e.data.folder,e.data.file),t.title=t.list[0].realName,t.shareTime=t.list[0].updateTime,\"2\"===t.list[0].type&&0===t.breadcrumb.length&&t.breadcrumb.push({})))}))}))},dealFile:function(t,e){var n=t||[],i=e||[];n.forEach((function(t){t.iconType=\"folder\"})),i.forEach((function(t){var e=s[\"a\"][t.suffix];t.iconType=e||\"unknown\",t.size=u.a.formatSize(Number(t.size))})),this.list=n.concat(i)},download:function(t){var e=this;Object(f[\"a\"])(t.id,t.type).then((function(t){0===t.code?window.open(h[\"a\"]+\"/\"+t.data.dlLink):e.$message.error(t.msg)}))},save:function(t){var e=this;this.selectShow=!0,this.saveInfo=t,this.$nextTick((function(){e.$refs.select.dialogVisible=!0,e.$refs.select.init(t)}))},handleSave:function(t){var e=this,n={targetFolderId:t};n[\"2\"===this.saveInfo.type?\"folderId\":\"fileId\"]=this.saveInfo.id,Object(c[\"a\"])(n).then((function(t){0===t.code?(e.selectShow=!1,e.$message.success(\"保存成功\"),e.saveInfo=null):e.$message.error(t.msg)}))}}),Object(o[\"a\"])(i,\"mounted\",(function(){this.link=this.$route.params.id,this.initCheck()})),i),p=m,g=(n(\"b4c3\"),n(\"2877\")),v=Object(g[\"a\"])(p,r,a,!1,null,\"6d570cf3\",null);e[\"default\"]=v.exports},\"25f0\":function(t,e,n){\"use strict\";var i=n(\"5e77\").PROPER,r=n(\"6eeb\"),a=n(\"825a\"),o=n(\"577e\"),c=n(\"d039\"),s=n(\"ad6d\"),l=\"toString\",u=RegExp.prototype,f=u[l],d=c((function(){return\"/a/b\"!=f.call({source:\"a\",flags:\"b\"})})),h=i&&f.name!=l;(d||h)&&r(RegExp.prototype,l,(function(){var t=a(this),e=o(t.source),n=t.flags,i=o(void 0===n&&t instanceof RegExp&&!(\"flags\"in u)?s.call(t):n);return\"/\"+e+\"/\"+i}),{unsafe:!0})},\"3de1\":function(t,e,n){n(\"ac1f\"),n(\"5319\"),n(\"498a\"),n(\"d3b7\"),n(\"25f0\"),n(\"4d63\"),n(\"4d90\"),n(\"a15b\"),n(\"b680\"),t.exports=Tool={isEmpty:function(t){return\"string\"==typeof t?!t||\"\"==t.replace(/\\s+/g,\"\"):!t||\"{}\"===JSON.stringify(t)||0===t.length},isNotEmpty:function(t){return!this.isEmpty(t)},isLength:function(t,e,n){return $.trim(t).length>=e&&$.trim(t).length<=n},dateFormat:function(t,e){var n;e||(e=new Date);var i={\"y+\":e.getFullYear().toString(),\"M+\":(e.getMonth()+1).toString(),\"d+\":e.getDate().toString(),\"h+\":e.getHours().toString(),\"m+\":e.getMinutes().toString(),\"s+\":e.getSeconds().toString()};for(var r in i)n=new RegExp(\"(\"+r+\")\").exec(t),n&&(t=t.replace(n[1],1==n[1].length?i[r]:i[r].padStart(n[1].length,\"0\")));return t},_10to62:function(t){var e=\"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\",n=e.length,i=[];do{var r=t%n;t=(t-r)/n,i.unshift(e[r])}while(t);return i.join(\"\")},formatSize:function(t){var e=\"\";e=t<102.4?t.toFixed(2)+\"B\":t<104857.6?(t/1024).toFixed(2)+\"KB\":t<107374182.4?(t/1048576).toFixed(2)+\"MB\":(t/1073741824).toFixed(2)+\"GB\";var n=e+\"\",i=n.indexOf(\".\"),r=n.substr(i+1,2);return\"00\"==r?n.substring(0,i)+n.substr(i+3,2):e}}},\"44e7\":function(t,e,n){var i=n(\"861d\"),r=n(\"c6b6\"),a=n(\"b622\"),o=a(\"match\");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:\"RegExp\"==r(t))}},\"498a\":function(t,e,n){\"use strict\";var i=n(\"23e7\"),r=n(\"58a8\").trim,a=n(\"c8d2\");i({target:\"String\",proto:!0,forced:a(\"trim\")},{trim:function(){return r(this)}})},\"4d63\":function(t,e,n){var i=n(\"83ab\"),r=n(\"da84\"),a=n(\"94ca\"),o=n(\"7156\"),c=n(\"9112\"),s=n(\"9bf2\").f,l=n(\"241c\").f,u=n(\"44e7\"),f=n(\"577e\"),d=n(\"ad6d\"),h=n(\"9f7f\"),m=n(\"6eeb\"),p=n(\"d039\"),g=n(\"1a2d\"),v=n(\"69f3\").enforce,b=n(\"2626\"),k=n(\"b622\"),x=n(\"fce3\"),w=n(\"107c\"),y=k(\"match\"),S=r.RegExp,C=S.prototype,_=/^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/,E=/a/g,O=/a/g,I=new S(E)!==E,R=h.UNSUPPORTED_Y,j=i&&(!I||R||x||w||p((function(){return O[y]=!1,S(E)!=E||S(O)==O||\"/a/i\"!=S(E,\"i\")}))),F=function(t){for(var e,n=t.length,i=0,r=\"\",a=!1;i<=n;i++)e=t.charAt(i),\"\\\\\"!==e?a||\".\"!==e?(\"[\"===e?a=!0:\"]\"===e&&(a=!1),r+=e):r+=\"[\\\\s\\\\S]\":r+=e+t.charAt(++i);return r},A=function(t){for(var e,n=t.length,i=0,r=\"\",a=[],o={},c=!1,s=!1,l=0,u=\"\";i<=n;i++){if(e=t.charAt(i),\"\\\\\"===e)e+=t.charAt(++i);else if(\"]\"===e)c=!1;else if(!c)switch(!0){case\"[\"===e:c=!0;break;case\"(\"===e:_.test(t.slice(i+1))&&(i+=2,s=!0),r+=e,l++;continue;case\">\"===e&&s:if(\"\"===u||g(o,u))throw new SyntaxError(\"Invalid capture group name\");o[u]=!0,a.push([u,l]),s=!1,u=\"\";continue}s?u+=e:r+=e}return[r,a]};if(a(\"RegExp\",j)){for(var T=function(t,e){var n,i,r,a,s,l,h=this instanceof T,m=u(t),p=void 0===e,g=[],b=t;if(!h&&m&&p&&t.constructor===T)return t;if((m||t instanceof T)&&(t=t.source,p&&(e=\"flags\"in b?b.flags:d.call(b))),t=void 0===t?\"\":f(t),e=void 0===e?\"\":f(e),b=t,x&&\"dotAll\"in E&&(i=!!e&&e.indexOf(\"s\")>-1,i&&(e=e.replace(/s/g,\"\"))),n=e,R&&\"sticky\"in E&&(r=!!e&&e.indexOf(\"y\")>-1,r&&(e=e.replace(/y/g,\"\"))),w&&(a=A(t),t=a[0],g=a[1]),s=o(S(t,e),h?this:C,T),(i||r||g.length)&&(l=v(s),i&&(l.dotAll=!0,l.raw=T(F(t),n)),r&&(l.sticky=!0),g.length&&(l.groups=g)),t!==b)try{c(s,\"source\",\"\"===b?\"(?:)\":b)}catch(k){}return s},$=function(t){t in T||s(T,t,{configurable:!0,get:function(){return S[t]},set:function(e){S[t]=e}})},z=l(S),N=0;z.length>N;)$(z[N++]);C.constructor=T,T.prototype=C,m(r,\"RegExp\",T)}b(\"RegExp\")},\"4d90\":function(t,e,n){\"use strict\";var i=n(\"23e7\"),r=n(\"0ccb\").start,a=n(\"9a0c\");i({target:\"String\",proto:!0,forced:a},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},\"857a\":function(t,e,n){var i=n(\"1d80\"),r=n(\"577e\"),a=/\"/g;t.exports=function(t,e,n,o){var c=r(i(t)),s=\"<\"+e;return\"\"!==n&&(s+=\" \"+n+'=\"'+r(o).replace(a,\"&quot;\")+'\"'),s+\">\"+c+\"</\"+e+\">\"}},9110:function(t,e,n){},9911:function(t,e,n){\"use strict\";var i=n(\"23e7\"),r=n(\"857a\"),a=n(\"af03\");i({target:\"String\",proto:!0,forced:a(\"link\")},{link:function(t){return r(this,\"a\",\"href\",t)}})},\"9a0c\":function(t,e,n){var i=n(\"342f\");t.exports=/Version\\/10(?:\\.\\d+){1,2}(?: [\\w./]+)?(?: Mobile\\/\\w+)? Safari\\//.test(i)},a15b:function(t,e,n){\"use strict\";var i=n(\"23e7\"),r=n(\"44ad\"),a=n(\"fc6a\"),o=n(\"a640\"),c=[].join,s=r!=Object,l=o(\"join\",\",\");i({target:\"Array\",proto:!0,forced:s||!l},{join:function(t){return c.call(a(this),void 0===t?\",\":t)}})},af03:function(t,e,n){var i=n(\"d039\");t.exports=function(t){return i((function(){var e=\"\"[t]('\"');return e!==e.toLowerCase()||e.split('\"').length>3}))}},b4c3:function(t,e,n){\"use strict\";n(\"9110\")},c8d2:function(t,e,n){var i=n(\"5e77\").PROPER,r=n(\"d039\"),a=n(\"5899\"),o=\"​᠎\";t.exports=function(t){return r((function(){return!!a[t]()||o[t]()!==o||i&&a[t].name!==t}))}}}]);","extractedComments":[]}