{"remainingRequest":"E:\\vuedemo\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vuedemo\\test\\src\\components\\ShareModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vuedemo\\test\\src\\components\\ShareModal.vue","mtime":1638518129037},{"path":"E:\\vuedemo\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vuedemo\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vuedemo\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vuedemo\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBjcmVhdGVTaGFyZSB9IGZyb20gJy4uL2FwaS9zaGFyZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIHZpc2libGU6ZmFsc2UsDQogICAgICAgICAgICBzaGFyZUluZm86bnVsbCwNCiAgICAgICAgICAgIGZvcm06ew0KICAgICAgICAgICAgICBzaGFyZVR5cGU6JzEnLA0KICAgICAgICAgICAgICBkb3dubG9hZExpbWl0OjAsDQogICAgICAgICAgICAgIGV4cGlyZVR5cGU6JzAnLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvcHlUZXh0OicnDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBvbkNvcHkoKXsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WkjeWItuaIkOWKnycpDQogICAgICAgIH0sDQogICAgICAgIGluaXQoaW5mbyl7DQogICAgICAgICAgICB0aGlzLnNoYXJlSW5mbz1pbmZvDQogICAgICAgIH0sDQogICAgICAgIGNvbmZpcm0oKXsNCiAgICAgICAgICBsZXQgZGF0YT17DQogICAgICAgICAgICAuLi50aGlzLmZvcm0sDQogICAgICAgICAgICBmaWQ6dGhpcy5zaGFyZUluZm8uaWQsDQogICAgICAgICAgICB0eXBlOnRoaXMuc2hhcmVJbmZvLnR5cGUNCiAgICAgICAgICB9DQogICAgICAgICAgY3JlYXRlU2hhcmUoZGF0YSkudGhlbihyZXM9PnsNCiAgICAgICAgICAgIGlmKHJlcy5jb2RlPT09MCl7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5YiG5Lqr5oiQ5YqfJykNCiAgICAgICAgICAgICAgbGV0IGRhdGE9cmVzLmRhdGENCiAgICAgICAgICAgICAgdGhpcy5jb3B5VGV4dD1gJHtkYXRhLm93bmVyTmFtZX3lkJHmgqjliIbkuqvkuoYke2RhdGEucmVhbE5hbWV9LOaJk+W8gOmTvuaOpeWQjuWPr+S7pei/m+ihjOS/neWtmOWSjOS4i+i9vTpodHRwOi8vbG9jYWxob3N0OjgwODAvIy9zLyR7ZGF0YS5zaGFyZVBhdGh9IOaPkOWPlueggToke2RhdGEuY29kZX1gDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["ShareModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShareModal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-dialog\r\n  title=\"分享\"\r\n  :close-on-click-modal=\"false\"\r\n  :visible.sync=\"visible\"\r\n  >\r\n  <el-form>\r\n    <el-form-item label=\"是否私密分享:\">\r\n      <el-radio v-model=\"form.shareType\" label=\"1\">是</el-radio>\r\n      <el-radio v-model=\"form.shareType\" label=\"2\">否</el-radio>\r\n    </el-form-item>\r\n  </el-form>\r\n   <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button type=\"primary\" v-if=\"copyText===''\" @click=\"confirm\">确 定</el-button>\r\n    <el-button type=\"primary\" v-clipboard=\"copyText\" v-clipboard:success=\"onCopy\">复制到粘贴板</el-button>\r\n  </span> \r\n\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { createShare } from '../api/share'\r\nexport default {\r\n    data(){\r\n        return{\r\n            visible:false,\r\n            shareInfo:null,\r\n            form:{\r\n              shareType:'1',\r\n              downloadLimit:0,\r\n              expireType:'0',\r\n            },\r\n            copyText:''\r\n        }\r\n    },\r\n    methods:{\r\n        onCopy(){\r\n          this.$message.success('复制成功')\r\n        },\r\n        init(info){\r\n            this.shareInfo=info\r\n        },\r\n        confirm(){\r\n          let data={\r\n            ...this.form,\r\n            fid:this.shareInfo.id,\r\n            type:this.shareInfo.type\r\n          }\r\n          createShare(data).then(res=>{\r\n            if(res.code===0){\r\n              this.$message.success('分享成功')\r\n              let data=res.data\r\n              this.copyText=`${data.ownerName}向您分享了${data.realName},打开链接后可以进行保存和下载:http://localhost:8080/#/s/${data.sharePath} 提取码:${data.code}`\r\n            }else{\r\n              this.$message.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"]}]}