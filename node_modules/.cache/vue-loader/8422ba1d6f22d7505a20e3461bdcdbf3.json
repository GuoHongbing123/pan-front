{"remainingRequest":"E:\\vue\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\test\\src\\views\\Main\\NavBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\test\\src\\views\\Main\\NavBar.vue","mtime":1639077766155},{"path":"E:\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vue\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsb2dvdXQsIGdldEluZm9EZXRhaWwgfSBmcm9tICIuLi8uLi9hcGkvdXNlciI7DQppbXBvcnQgeyBjcmVhdGVGb2xkZXIgfSBmcm9tICIuLi8uLi9hcGkvZm9sZGVyIjsNCmltcG9ydCB7IHRvdGFsQ291bnQgfSBmcm9tICIuLi8uLi9jb25zdC90b3RhbCINCmV4cG9ydCBkZWZhdWx0IHsNCiBkYXRhKCl7DQogICAgIHJldHVybnsNCiAgICAgICAgIHRvdGFsUGVyY2VudGFnZToyMCwNCiAgICAgICAgIGZvcm06ew0KICAgICAgICAgICAgdXNlclRvdGFsOicnLA0KICAgICAgICAgfSwNCiAgICAgICAgIG5hdkxpc3Q6Ww0KICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgdGl0bGU6J+aIkeeahOaWh+S7ticsDQogICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcjonaG9tZScsDQogICAgICAgICAgICAgICAgIGljb25Mb2dlOidteWZvbGRlcicNCiAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgdGl0bGU6J+aWsOW7uuaWh+S7tuWkuScsDQogICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcjonbmV3Rm9sZGVyJywNCiAgICAgICAgICAgICAgICAgaWNvbkxvZ2U6J2NyZWF0ZWZvbGRlcicNCiAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgdGl0bGU6ICfmiJHnmoTliIbkuqsnLA0KICAgICAgICAgICAgICAgICBjbGlja0hhbmRsZXI6ICdzaGFyZScsDQogICAgICAgICAgICAgICAgaWNvbkxvZ2U6J3NoYXJlJw0KICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIHRpdGxlOiflm57mlLbnq5knLA0KICAgICAgICAgICAgICAgICBjbGlja0hhbmRsZXI6J3JlY3ljbGUnLA0KICAgICAgICAgICAgICAgICBpY29uTG9nZToncmVjeWNsZWJpbicNCiAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOifkuKrkurrkv6Hmga8nLA0KICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcjonZGV0YWlsJywNCiAgICAgICAgICAgICAgICBpY29uTG9nZTondXNlcmluZm8nDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOifkv67mlLnlr4bnoIEnLA0KICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcjoncGFzc3dvcmQnLA0KICAgICAgICAgICAgICAgIGljb25Mb2dlOidjaGFuZ2Vwd2QnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICB0aXRsZTon55m75Ye6JywNCiAgICAgICAgICAgICAgICAgY2xpY2tIYW5kbGVyOidsb2dpbm91dCcsDQogICAgICAgICAgICAgICAgIGljb25Mb2dlOidsb2dvdXQnDQogICAgICAgICAgICAgfSwNCiAgICAgICAgIF0NCiAgICAgfQ0KIH0sDQogd2F0Y2g6IHsNCiAgICAgJHJvdXRlKCkgew0KICAgICAgICAgY29uc29sZS5sb2codGhpcy4kcm91dGUpDQogICAgIH0NCiB9LA0KIG1ldGhvZHM6ew0KICAgIC8vICBjdXN0b21Db2xvck1ldGhvZCh0b3RhbFBlcmNlbnRhZ2Upew0KICAgIC8vICAgICBpZiAocGFyc2VGbG9hdCh0b3RhbFBlcmNlbnRhZ2UpIDwgOTAuMCkgew0KICAgIC8vICAgICAgIHJldHVybiAnIzkwOTM5OSc7DQogICAgLy8gICAgIH0gZWxzZSB7DQogICAgLy8gICAgICAgcmV0dXJuICcjZGYzMzA5JzsNCiAgICAvLyAgICAgfQ0KICAgIC8vICB9LA0KICAgICBoYW5kbGVDb21tYW5kKGNsaWNrSGFuZGxlcil7DQogICAgICAgICB0aGlzW2NsaWNrSGFuZGxlcl0oKQ0KICAgICB9LA0KICAgICBob21lKCl7DQogICAgICAgICB0aGlzLiRidXMuJGVtaXQoJ2dldGxpc3QnKQ0KICAgICB9LA0KICAgICBoYW5kbGVOYXYoaXRlbSkgew0KICAgICAgICAgbGV0IHJvdXRlcyA9Wydob21lJywncmVjeWNsZSddDQogICAgICAgICBpZiAocm91dGVzLmluY2x1ZGVzKGl0ZW0uY2xpY2tIYW5kbGVyKSl7DQogICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goaXRlbS5jbGlja0hhbmRsZXIpDQogICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICB0aGlzW2l0ZW0uY2xpY2tIYW5kbGVyXSgpDQogICAgICAgICB9DQogICAgIH0sDQogICAgIG5ld0ZvbGRlcigpew0KICAgICAgICAgdGhpcy4kcHJvbXB0KCfor7fovpPlhaXmlrDlu7rmlofku7blpLnlkI3np7AnLCAn5paw5bu6Jywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICBpbnB1dFBhdHRlcm46IC9eKCg/IVtcXC86Kj/vvJ9eYH4mPD58JyVdKS4pezEsMjB9JC8sDQogICAgICAgICAgaW5wdXRFcnJvck1lc3NhZ2U6ICcyMOS4quWtl+espuS7peWGhe+8jOS4jeiDveWMheWQq+eJueauiuWtl+espicNCiAgICAgICAgfSkudGhlbigoeyB2YWx1ZSB9KSA9PiB7DQogICAgICAgICAgbGV0IGZvbGRlcklkPXRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgICAgICAgY3JlYXRlRm9sZGVyKHsNCiAgICAgICAgICAgICAgcGlkOmZvbGRlcklkP2ZvbGRlcklkOjAsDQogICAgICAgICAgICAgIHJlYWxOYW1lOnZhbHVlDQogICAgICAgICAgfSkudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgaWYocmVzLmNvZGU9PT0wKXsNCiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5paw5bu65oiQ5YqfJykNCiAgICAgICAgICAgICAgICAgIHRoaXMuJGJ1cy4kZW1pdCgnZ2V0bGlzdCcpDQogICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgICAgIA0KICAgICAgICB9KTsNCiAgICAgfSwNCiAgICAgbG9naW5vdXQoKXsNCiAgICAgICAgIGxvZ291dCgpLnRoZW4ocmVzPT57DQogICAgICAgICAgICAgaWYocmVzLmNvZGU9PT0wKXsNCiAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnmbvlh7rmiJDlip8nKQ0KICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykNCiAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnKQ0KICAgICAgICAgICAgIH0NCiAgICAgICAgIH0pDQogICAgIH0sDQogICAgIHNoYXJlKCkgew0KICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zaGFyZScpDQogICAgIH0sDQogICAgcGFzc3dvcmQoKXsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy4uL2NoYW5nZXB3ZCcpDQogICAgfSwNCiAgICBkZXRhaWwoKXsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy4uL2RldGFpbCcpDQogICAgfSwNCiAgICByZWN5Y2xlKCl7DQogICAgICAgIA0KICAgIH0NCiB9LA0KIG1vdW50ZWQoKXsNCiAgICAgZ2V0SW5mb0RldGFpbCgpLnRoZW4ocmVzID0+ew0KICAgICAgICAgaWYocmVzLmNvZGUgPT09IDApew0KICAgICAgICAgICAgIHRoaXMuZm9ybS51c2VyVG90YWw9dG90YWxDb3VudChyZXMuZGF0YS50b3RhbFNpemUpDQogICAgICAgICAgICAgbGV0IHRvdGFsID0gcmVzLmRhdGEudG90YWxTaXplLzUzNjg3MDkxMjAqMTAwDQogICAgICAgICAgICAgdGhpcy50b3RhbFBlcmNlbnRhZ2UgPSAodG90YWwpLnRvRml4ZWQoMSkNCiAgICAgICAgIH0NCiAgICAgfSkNCiB9DQp9DQo="},{"version":3,"sources":["NavBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NavBar.vue","sourceRoot":"src/views/Main","sourcesContent":["<template>\r\n    <div class=\"aside-main\">\r\n        <el-aside class=\"aside\" width=\"250px\">\r\n            <div class=\"nav-warrper\">\r\n                <div class=\"nav-item\" :class=\"{'is-active': `/${item.clickHandler}` === $route.path}\" @command=\"handleCommand\" @click=\"handleNav(item)\" v-for=\"item in navList\" :key=\"item.title\">\r\n                    <div class=\"icon-main\"><img :src=\"require(`../../assets/icon/${item.iconLoge}.png`)\" class=\"icon-item\"/></div>\r\n                    <span style=\"margin-left:20px\">{{item.title}}</span>\r\n                </div>\r\n            </div>\r\n        </el-aside>\r\n        <div class=\"total-main\">\r\n            <el-form>\r\n            <el-form-item class=\"percentage\">\r\n                <el-progress :percentage=\"parseFloat(totalPercentage)\" :color=\"totalPercentage > 90 ? '#df3309' : '#2795d4'\" type=\"dashboard\"></el-progress>\r\n            </el-form-item>\r\n            <el-form class=\"userTotal\" :model=\"form\">\r\n                <el-form-item style=\"margin-left:20px\" label=\"网盘容量:\">{{form.userTotal}} / 5G</el-form-item>\r\n            </el-form>\r\n        </el-form>\r\n        </div>\r\n        \r\n        \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { logout, getInfoDetail } from \"../../api/user\";\r\nimport { createFolder } from \"../../api/folder\";\r\nimport { totalCount } from \"../../const/total\"\r\nexport default {\r\n data(){\r\n     return{\r\n         totalPercentage:20,\r\n         form:{\r\n            userTotal:'',\r\n         },\r\n         navList:[\r\n             {\r\n                 title:'我的文件',\r\n                 clickHandler:'home',\r\n                 iconLoge:'myfolder'\r\n             },\r\n             {\r\n                 title:'新建文件夹',\r\n                 clickHandler:'newFolder',\r\n                 iconLoge:'createfolder'\r\n             },\r\n             {\r\n                 title: '我的分享',\r\n                 clickHandler: 'share',\r\n                iconLoge:'share'\r\n             },\r\n            {\r\n                 title:'回收站',\r\n                 clickHandler:'recycle',\r\n                 iconLoge:'recyclebin'\r\n             },\r\n            {\r\n                title:'个人信息',\r\n                clickHandler:'detail',\r\n                iconLoge:'userinfo'\r\n            },\r\n            {\r\n                title:'修改密码',\r\n                clickHandler:'password',\r\n                iconLoge:'changepwd'\r\n            },\r\n            {\r\n                 title:'登出',\r\n                 clickHandler:'loginout',\r\n                 iconLoge:'logout'\r\n             },\r\n         ]\r\n     }\r\n },\r\n watch: {\r\n     $route() {\r\n         console.log(this.$route)\r\n     }\r\n },\r\n methods:{\r\n    //  customColorMethod(totalPercentage){\r\n    //     if (parseFloat(totalPercentage) < 90.0) {\r\n    //       return '#909399';\r\n    //     } else {\r\n    //       return '#df3309';\r\n    //     }\r\n    //  },\r\n     handleCommand(clickHandler){\r\n         this[clickHandler]()\r\n     },\r\n     home(){\r\n         this.$bus.$emit('getlist')\r\n     },\r\n     handleNav(item) {\r\n         let routes =['home','recycle']\r\n         if (routes.includes(item.clickHandler)){\r\n             this.$router.push(item.clickHandler)\r\n         }else{\r\n             this[item.clickHandler]()\r\n         }\r\n     },\r\n     newFolder(){\r\n         this.$prompt('请输入新建文件夹名称', '新建', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          inputPattern: /^((?![\\\\/:*?？^`~&<>|'%]).){1,20}$/,\r\n          inputErrorMessage: '20个字符以内，不能包含特殊字符'\r\n        }).then(({ value }) => {\r\n          let folderId=this.$route.query.id\r\n          createFolder({\r\n              pid:folderId?folderId:0,\r\n              realName:value\r\n          }).then(res=>{\r\n              if(res.code===0){\r\n                  this.$message.success('新建成功')\r\n                  this.$bus.$emit('getlist')\r\n              }else{\r\n                  this.$message.error(res.msg)\r\n              }\r\n          })\r\n        }).catch(() => {\r\n                \r\n        });\r\n     },\r\n     loginout(){\r\n         logout().then(res=>{\r\n             if(res.code===0){\r\n                 this.$message.success('登出成功')\r\n                 this.$router.push('/login')\r\n             }else{\r\n                 this.$message.error(res.msg)\r\n             }\r\n         })\r\n     },\r\n     share() {\r\n         this.$router.push('/share')\r\n     },\r\n    password(){\r\n        this.$router.push('../changepwd')\r\n    },\r\n    detail(){\r\n        this.$router.push('../detail')\r\n    },\r\n    recycle(){\r\n        \r\n    }\r\n },\r\n mounted(){\r\n     getInfoDetail().then(res =>{\r\n         if(res.code === 0){\r\n             this.form.userTotal=totalCount(res.data.totalSize)\r\n             let total = res.data.totalSize/5368709120*100\r\n             this.totalPercentage = (total).toFixed(1)\r\n         }\r\n     })\r\n }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.aside-main{\r\n    position: relative;\r\n    background-color: #a2e7f3;//侧边栏（下）颜色\r\n    height: calc(180vh - 60px); // TODO 需要做个自适应高度\r\n    .aside{\r\n    background-color: #fff;  //主页面背景颜色\r\n    margin-bottom:10px;\r\n    box-shadow:inset 5px 5px 5px rgb(0 0 0/10%);\r\n    .nav-warrper{\r\n        .nav-item{\r\n            .icon-main{\r\n                margin-left: 30px;\r\n                img{\r\n                    width: 30px;\r\n                    height: 30px;\r\n                }\r\n            }\r\n            height: 60px;\r\n            cursor: pointer;\r\n            display: flex;\r\n            align-items: center;\r\n            // justify-content: center;\r\n            font-size: 14px;\r\n            background:#d8f2f3;  //侧边栏（上）颜色#8ba5da\r\n            &:hover{\r\n                background-color: #a2e7f3; //鼠标悬停颜色#4bdfcb\r\n            }\r\n        }\r\n        .is-active{\r\n            background-color: #a2e7f3;  //鼠标选中颜色\r\n        }\r\n    }\r\n  }\r\n  .total-main{\r\n      margin-top:20px;\r\n    //   position: absolute;\r\n    text-align: center;\r\n      bottom:0;\r\n      left: 15px;\r\n    padding: 20px 2px 15px;\r\n    .userTotal{\r\n        width: 200px;\r\n    }\r\n  }\r\n}\r\n\r\n</style>"]}]}