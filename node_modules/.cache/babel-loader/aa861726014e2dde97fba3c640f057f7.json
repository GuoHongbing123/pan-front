{"remainingRequest":"E:\\workspace\\pan-front\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\pan-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\pan-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\pan-front\\src\\components\\ShareModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\pan-front\\src\\components\\ShareModal.vue","mtime":1639065008614},{"path":"E:\\workspace\\pan-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\pan-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\workspace\\pan-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\pan-front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovd29ya3NwYWNlL3Bhbi1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNyZWF0ZVNoYXJlIH0gZnJvbSAnLi4vYXBpL3NoYXJlJzsKaW1wb3J0IHsgc3RhdGljVXJsIH0gZnJvbSAiLi4vY29uc3QvaW5kZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBzaGFyZUluZm86IG51bGwsCiAgICAgIGZvcm06IHsKICAgICAgICBzaGFyZVR5cGU6ICcxJywKICAgICAgICBkb3dubG9hZExpbWl0OiAwLAogICAgICAgIGV4cGlyZVR5cGU6ICcwJwogICAgICB9LAogICAgICBjb3B5VGV4dDogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNvcHk6IGZ1bmN0aW9uIG9uQ29weSgpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflpI3liLbmiJDlip8nKTsKICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KGluZm8pIHsKICAgICAgdGhpcy5zaGFyZUluZm8gPSBpbmZvOwogICAgfSwKICAgIGNvbmZpcm06IGZ1bmN0aW9uIGNvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5mb3JtKSwge30sIHsKICAgICAgICBmaWQ6IHRoaXMuc2hhcmVJbmZvLmlkLAogICAgICAgIHR5cGU6IHRoaXMuc2hhcmVJbmZvLnR5cGUKICAgICAgfSk7CgogICAgICBjcmVhdGVTaGFyZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIhuS6q+aIkOWKnycpOwoKICAgICAgICAgIHZhciBfZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgX3RoaXMuY29weVRleHQgPSAiIi5jb25jYXQoX2RhdGEub3duZXJOYW1lLCAiXHU1NDExXHU2MEE4XHU1MjA2XHU0RUFCXHU0RTg2IikuY29uY2F0KF9kYXRhLnJlYWxOYW1lLCAiLFx1NjI1M1x1NUYwMFx1OTRGRVx1NjNBNVx1NTQwRVx1NTNFRlx1NEVFNVx1OEZEQlx1ODg0Q1x1NEZERFx1NUI1OFx1NTQ4Q1x1NEUwQlx1OEY3RDoiKS5jb25jYXQoc3RhdGljVXJsLCAiLyMvcy8iKS5jb25jYXQoX2RhdGEuc2hhcmVQYXRoLCAiIFx1NjNEMFx1NTNENlx1NzgwMToiKS5jb25jYXQoX2RhdGEuY29kZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ShareModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,SAAA,WAAA,QAAA,cAAA;AACA,SAAA,SAAA,QAAA,gBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,IAFA;AAGA,MAAA,IAAA,EAAA;AACA,QAAA,SAAA,EAAA,GADA;AAEA,QAAA,aAAA,EAAA,CAFA;AAGA,QAAA,UAAA,EAAA;AAHA,OAHA;AAQA,MAAA,QAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,IAJA,gBAIA,IAJA,EAIA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KANA;AAOA,IAAA,OAPA,qBAOA;AAAA;;AACA,UAAA,IAAA,mCACA,KAAA,IADA;AAEA,QAAA,GAAA,EAAA,KAAA,SAAA,CAAA,EAFA;AAGA,QAAA,IAAA,EAAA,KAAA,SAAA,CAAA;AAHA,QAAA;;AAKA,MAAA,WAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,cAAA,KAAA,GAAA,GAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,QAAA,aAAA,KAAA,CAAA,SAAA,2CAAA,KAAA,CAAA,QAAA,mGAAA,SAAA,kBAAA,KAAA,CAAA,SAAA,iCAAA,KAAA,CAAA,IAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA;AACA;AACA,OARA;AASA;AAtBA;AAbA,CAAA","sourcesContent":["<template>\r\n  <el-dialog\r\n  title=\"分享\"\r\n  :close-on-click-modal=\"false\"\r\n  :visible.sync=\"visible\"\r\n  >\r\n  <el-form>\r\n    <el-form-item label=\"是否私密分享:\">\r\n      <el-radio v-model=\"form.shareType\" label=\"1\">是</el-radio>\r\n      <el-radio v-model=\"form.shareType\" label=\"2\">否</el-radio>\r\n    </el-form-item>\r\n  </el-form>\r\n   <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button type=\"primary\" v-if=\"copyText===''\" @click=\"confirm\">确 定</el-button>\r\n    <el-button type=\"primary\" v-clipboard=\"copyText\" v-clipboard:success=\"onCopy\">复制到粘贴板</el-button>\r\n  </span> \r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { createShare } from '../api/share'\r\nimport { staticUrl } from \"../const/index\";\r\nexport default {\r\n    data(){\r\n        return{\r\n            visible:false,\r\n            shareInfo:null,\r\n            form:{\r\n              shareType:'1',\r\n              downloadLimit:0,\r\n              expireType:'0',\r\n            },\r\n            copyText:''\r\n        }\r\n    },\r\n    methods:{\r\n        onCopy(){\r\n          this.$message.success('复制成功')\r\n        },\r\n        init(info){\r\n            this.shareInfo=info\r\n        },\r\n        confirm(){\r\n          let data={\r\n            ...this.form,\r\n            fid:this.shareInfo.id,\r\n            type:this.shareInfo.type\r\n          }\r\n          createShare(data).then(res=>{\r\n            if(res.code===0){\r\n              this.$message.success('分享成功')\r\n              let data=res.data\r\n              this.copyText=`${data.ownerName}向您分享了${data.realName},打开链接后可以进行保存和下载:${staticUrl}/#/s/${data.sharePath} 提取码:${data.code}`\r\n            }else{\r\n              this.$message.error(res.msg)\r\n            }\r\n          })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}