{"remainingRequest":"E:\\vuedemo\\test\\node_modules\\babel-loader\\lib\\index.js!E:\\vuedemo\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vuedemo\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vuedemo\\test\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vuedemo\\test\\src\\views\\Home.vue","mtime":1638777877025},{"path":"E:\\vuedemo\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vuedemo\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\vuedemo\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vuedemo\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJFOi92dWVkZW1vL3Rlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L3Z1ZWRlbW8vdGVzdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGdldEZpbGVCeUlkLCBnZXRMb2NhdGlvbiwgbW92ZUZvbGRlciB9IGZyb20gIi4uL2FwaS9mb2xkZXIiOwppbXBvcnQgeyBtb3ZlRmlsZSB9IGZyb20gIi4uL2FwaS9maWxlIjsKaW1wb3J0IEZpbGUgZnJvbSAiLi4vY29tcG9uZW50cy9GaWxlLnZ1ZSI7CmltcG9ydCBTZWxlY3RGb2xkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9TZWxlY3RGb2xkZXIudnVlIjsKaW1wb3J0IFNoYXJlTW9kYWwgZnJvbSAiLi4vY29tcG9uZW50cy9TaGFyZU1vZGFsLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3Q6IFtdLAogICAgICBicmVhZDogW10sCiAgICAgIGN1cnJlbnRGb2xkZXJJZDogJycsCiAgICAgIHNlbGVjdFNob3c6IGZhbHNlLAogICAgICBzaGFyZVNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgRmlsZTogRmlsZSwKICAgIFNlbGVjdEZvbGRlcjogU2VsZWN0Rm9sZGVyLAogICAgU2hhcmVNb2RhbDogU2hhcmVNb2RhbAogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKG5ld1ZhbCkgewogICAgICB0aGlzLmN1cnJlbnRGb2xkZXJJZCA9IG5ld1ZhbC5xdWVyeS5pZDsKICAgICAgdGhpcy5nZXRGaWxlcygpOwogICAgICB0aGlzLnNldExvY2F0aW9uKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uIGRyYWdTdGFydChlLCBpdGVtKSB7CiAgICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7CiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ2lkJywgaXRlbS5pZCk7CiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3R5cGUnLCBpdGVtLnR5cGUpOwogICAgfSwKICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3AoZSwgaXRlbSkgewogICAgICB0aGlzLm1vdmUoewogICAgICAgIHR5cGU6IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3R5cGUnKSwKICAgICAgICBpZDogZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnaWQnKSwKICAgICAgICBmb2xkZXJJZDogaXRlbS5pZAogICAgICB9KTsKICAgIH0sCiAgICBhbGxvd0Ryb3A6IGZ1bmN0aW9uIGFsbG93RHJvcChlLCBpdGVtKSB7CiAgICAgIGlmIChpdGVtLnR5cGUgPT09ICcyJykgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgfSwKICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGRhdGEudHlwZSA9PT0gJzInKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbW92ZUZvbGRlcihkYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gbW92ZUZpbGUoZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQudDA7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+enu+WKqOaIkOWKnycpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0RmlsZXMoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZU1vdmU6IGZ1bmN0aW9uIGhhbmRsZU1vdmUoaW5mbykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2VsZWN0U2hvdyA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHJlZnMuc2VsZWN0LmRpYWxvZ1Zpc2libGUgPSB0cnVlOwoKICAgICAgICBfdGhpczIuJHJlZnMuc2VsZWN0LmluaXQoaW5mbyk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNoYXJlOiBmdW5jdGlvbiBoYW5kbGVTaGFyZShpbmZvKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5zaGFyZVNob3cgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRyZWZzLnNoYXJlLnZpc2libGUgPSB0cnVlOwoKICAgICAgICBfdGhpczMuJHJlZnMuc2hhcmUuaW5pdChpbmZvKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQnJlYWQ6IGZ1bmN0aW9uIGhhbmRsZUJyZWFkKGlkLCBpbmRleCkgewogICAgICBpZiAoaW5kZXggIT09IHRoaXMuYnJlYWQubGVuZ3RoIC0gMSkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZT9pZD0nICsgaWQpOwogICAgICB9CiAgICB9LAogICAgc2V0TG9jYXRpb246IGZ1bmN0aW9uIHNldExvY2F0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmN1cnJlbnRGb2xkZXJJZCkgewogICAgICAgIGdldExvY2F0aW9uKHRoaXMuY3VycmVudEZvbGRlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5icmVhZCA9IHJlcy5kYXRhLnJldmVyc2UoKTsKICAgICAgICAgIF90aGlzNC5icmVhZFswXS5yZWFsTmFtZSA9ICfpppbpobUnOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYnJlYWQuc3BsaWNlKDAsIHRoaXMuYnJlYWQubGVuZ3RoKTsKICAgICAgfQogICAgfSwKICAgIHJlbmFtZTogZnVuY3Rpb24gcmVuYW1lKGlkLCBuZXdOYW1lKSB7CiAgICAgIHZhciBpbmRleCA9IHRoaXMubGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBpZDsKICAgICAgfSk7CiAgICAgIHRoaXMubGlzdFtpbmRleF0ucmVhbE5hbWUgPSBuZXdOYW1lOwogICAgfSwKICAgIGdldEZpbGVzOiBmdW5jdGlvbiBnZXRGaWxlcygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBnZXRGaWxlQnlJZCh0aGlzLmN1cnJlbnRGb2xkZXJJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1Lmxpc3QgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmZvbGRlciksIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5maWxlKSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNsaWNrSGFuZGVyOiBmdW5jdGlvbiBjbGlja0hhbmRlcihmaWxlKSB7CiAgICAgIGlmIChmaWxlLnR5cGUgPT09ICcyJykgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcvaG9tZT9pZD0nICsgZmlsZS5pZAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRGaWxlcygpOwoKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5pZCkgewogICAgICB0aGlzLnNldExvY2F0aW9uKCk7CiAgICB9CgogICAgdGhpcy4kYnVzLiRvbignZ2V0bGlzdCcsIHRoaXMuZ2V0RmlsZXMpOwogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"breadcrumb-box\">\n      <div class=\"breadcrumb-item\" v-for=\"(item,index) in bread\" :key=\"item.id\">\n        <i v-if=\"index!==0\" class=\"el-icon-arrow-right\"></i>\n        <span @click=\"handleBread(item.id,index)\" :class=\"{'clickable': index!==bread.length-1}\">{{item.realName}}</span>\n      </div>\n    </div>\n    <div class=\"list\">\n      <file \n        @renameSuccess=\"rename\" \n        @click.native=\"clickHander(item)\" \n        @move=\"handleMove\"\n        @share=\"handleShare\" \n        draggable=\"true\"\n        @dragover.native=\"(e) => allowDrop(e, item)\"\n        @dragstart.native=\"(e) => dragStart(e,item)\"\n        @drop.native=\"(e) => drop(e,item)\"\n        :info=\"item\" \n        v-for=\"item in list\" \n        :key=\"item.id\"></file>\n    </div>\n    <select-folder @moveSuccess=\"selectShow=false\" v-if=\"selectShow\" ref=\"select\"></select-folder>\n    <share-modal ref=\"share\" v-if=\"shareShow\"></share-modal>\n  </div>\n</template>\n\n<script>\nimport { getFileById,getLocation,moveFolder } from \"../api/folder\";\nimport { moveFile } from \"../api/file\";\nimport  File  from \"../components/File.vue\";\nimport SelectFolder from \"../components/SelectFolder.vue\";\nimport ShareModal from \"../components/ShareModal.vue\";\nexport default {\n  name: 'Home',\n  data() {\n    return{\n      list:[],\n      bread:[],\n      currentFolderId:'',\n      selectShow:false,\n      shareShow:false\n    }\n  },\n  components:{\n    File,\n    SelectFolder,\n    ShareModal\n  },\n  watch:{\n    $route(newVal){\n      this.currentFolderId=newVal.query.id\n      this.getFiles()\n      this.setLocation()\n    }\n  },\n  methods:{\n    dragStart(e, item){\n      e.dataTransfer.effectAllowed = 'move'\n      e.dataTransfer.setData('id', item.id)\n      e.dataTransfer.setData('type', item.type)\n    },\n    drop(e,item){\n      this.move({\n        type:e.dataTransfer.getData('type'),\n        id:e.dataTransfer.getData('id'),\n        folderId:item.id\n      })\n    },\n    allowDrop(e, item){\n      if(item.type === '2'){\n        e.preventDefault()\n      }\n    },\n    async move(data){\n      let res=data.type === '2' ? await moveFolder(data) : await moveFile(data)\n      if(res.code === 0){\n        this.$message.success('移动成功')\n        this.getFiles()\n      }else{\n        this.$message.error(res.msg);\n      }\n    },\n\n    handleMove(info){\n      this.selectShow=true\n      this.$nextTick(() => {\n        this.$refs.select.dialogVisible = true\n        this.$refs.select.init(info)\n      })\n    },\n    handleShare(info){\n      this.shareShow = true\n      this.$nextTick(() => {\n        this.$refs.share.visible=true\n        this.$refs.share.init(info)\n      })\n    },\n    handleBread(id,index){\n      if(index!==this.bread.length-1){\n        this.$router.push('/home?id='+id)\n      }\n    },\n    setLocation(){\n      if(this.currentFolderId){\n        getLocation(this.currentFolderId).then(res=>{\n          this.bread=res.data.reverse()\n          this.bread[0].realName='首页'\n      })\n      }else{\n        this.bread.splice(0,this.bread.length)\n      }\n      \n    },\n    rename(id,newName){\n      let index=this.list.findIndex(item=>{\n        return item.id == id\n      })\n      this.list[index].realName = newName\n    },\n    getFiles(){\n      getFileById(this.currentFolderId).then((res)=>{\n        this.list=[...res.data.folder,...res.data.file]\n      })\n    },\n    clickHander(file){\n      if(file.type==='2'){\n        this.$router.push({path:'/home?id='+file.id})\n      }\n    }\n  },\n  mounted(){\n    this.getFiles()\n    if(this.$route.query.id){\n      this.setLocation()\n    }\n    this.$bus.$on('getlist',this.getFiles)\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.breadcrumb-box{\n  display: flex;\n}\n.clickable{\n  font-weight: bold;\n  cursor: pointer;\n}\n.list{\n  display: flex;\n  flex-wrap:wrap;\n}\n</style>"],"sourceRoot":"src/views"}]}